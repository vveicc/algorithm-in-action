# 字符串分割

## CF1624E. Masha-forgetful

???+ note "问题描述"
    第一行输入 $t(1≤t≤1e4)$ 表示 $t$ 组数据。所有数据的 $n \times m$ 之和 $≤1e6$。<br>
    每组数据第一行输入 $n$ 和 $m$ 两个整数，$(1≤n,m≤1e3)$ 。<br>
    接下来 $n$ 行每行输入一个字符串，形成一个大小为 $n$ 的字符串数组 $a$ 。<br>
    然后再输入一个字符串 $s$ 。所有字符串长度均为 $m$ ，仅包含 `'0'`~`'9'`。

    你需要将 $s$ 划分成若干个长度至少为 $2$ 的子串，且每个子串都是某个 $a[i]$ 的子串（不同子串对应的 $a[i]$ 可以不同）。<br>
    如果无法划分，输出 $-1$ ；否则输出划分出的子串个数 $k$ ，然后输出 $k$ 行，每行三个数字 $l\ r\ i$ ，表示这个子串等于 $a[i]$ 的子串 $[l,r]$。注意 $l\ r\ i$ 的下标均从 $1$ 开始。注意输出的 $k$ 行要与划分的顺序相同。<br>
    如果有多种划分方案，输出任意一种。

    在 [Codeforces](https://codeforces.com/problemset/problem/1624/E "2000")
    或 [洛谷](https://www.luogu.com.cn/problem/CF1624E "普及+/提高") 查看该题。

??? info "解题思路"
    预处理字符串数组 $a$ 中所有长为 2 和 3 的子串及其位置。<br>
    线性 DP 判断字符串 $s$ 是否可以划分，如果可以划分，根据状态转移情况计算划分方案。

    === "Go"
        ```go
        --8<-- "split/go/cf1624e.go"
        ```
    === "Java"
        ```java
        --8<-- "split/java/cf1624e/Main.java"
        ```
